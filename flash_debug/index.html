<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Flashing and debugging - imxrt-rs</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../index.html">Introduction</a></li><li class="chapter-item expanded "><a href="../ecosystem_walkthrough/index.html"><strong aria-hidden="true">1.</strong> Ecosystem walkthrough</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../ecosystem_walkthrough/booting.html"><strong aria-hidden="true">1.1.</strong> Booting</a></li><li class="chapter-item expanded "><a href="../ecosystem_walkthrough/ral.html"><strong aria-hidden="true">1.2.</strong> Register access layer</a></li><li class="chapter-item expanded "><a href="../ecosystem_walkthrough/hal.html"><strong aria-hidden="true">1.3.</strong> Hardware abstraction layer</a></li><li class="chapter-item expanded "><a href="../ecosystem_walkthrough/bsp.html"><strong aria-hidden="true">1.4.</strong> Board support package</a></li><li class="chapter-item expanded "><a href="../ecosystem_walkthrough/extras.html"><strong aria-hidden="true">1.5.</strong> Extra packages</a></li></ol></li><li class="chapter-item expanded "><a href="../toolchain.html"><strong aria-hidden="true">2.</strong> Toolchain setup</a></li><li class="chapter-item expanded "><a href="../flash_debug/index.html" class="active"><strong aria-hidden="true">3.</strong> Flashing and debugging</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../flash_debug/evk_recovery.html"><strong aria-hidden="true">3.1.</strong> Recovering an EVK</a></li><li class="chapter-item expanded "><a href="../flash_debug/pyocd_qsg.html"><strong aria-hidden="true">3.2.</strong> pyOCD quick-start guide</a></li></ol></li><li class="chapter-item expanded "><a href="../external_docs.html"><strong aria-hidden="true">4.</strong> External documentation</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">imxrt-rs</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/imxrt-rs/book" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="flashing-and-debugging"><a class="header" href="#flashing-and-debugging">Flashing and debugging</a></h1>
<p>Once you've developed an embedded Rust application for your i.MX RT target,
you'll need additional tools to flash and debug your target. This page links to
tools that can flash and debug i.MX RT targets. It also describes tips for
integrating flashing and debugging tools in your Rust project.</p>
<p>In order to flash and debug an i.MX RT target, you'll need a physical debug
probe that</p>
<ul>
<li>is compatible with your chosen flashing and debugging software.</li>
<li>works with your hardware.</li>
</ul>
<p>Consult each software tool's documentation to understand its support for your
debug probe.</p>
<h2 id="recommendations-for-imx-rt-evks"><a class="header" href="#recommendations-for-imx-rt-evks">Recommendations for i.MX RT EVKs</a></h2>
<p>When working with NXP's i.MX RT EVKs, we recommend either <a href="#pyocd">pyOCD</a> or a
<a href="#probe-rs">probe-rs</a>-based tool. Both of these tools can flash and debug the
i.MX RT processor through the OpenSDA probe available on the board. This
approach doesn't require an external JTAG / SWD debug probe.</p>
<p>Connect to the OpenSDA probe using a USB cable, and ensure that the board's
jumpers are configured to use the OpenSDA probe. Consult your board's
documentation for the specific USB port and jumper configurations.</p>
<p>If you've flashed a bad program to your EVK and you're having trouble
reprogramming the board, see <a href="./evk_recovery.html">recovering an EVK</a>.</p>
<h2 id="pyocd"><a class="header" href="#pyocd">pyOCD</a></h2>
<p><a href="https://pyocd.io">pyOCD</a> is a Python toolkit for debugging and programming Arm
microcontrollers. It includes support for debugging i.MX RT 10xx and 11xx
processors. It can also program external NOR flash chips, making it suitable for
persistent device programming.</p>
<p>See <a href="./pyocd_qsg.html">our quick-start guide</a> if you're interested in using pyOCD
as a flashing and debugging tool.</p>
<p>You can also use pyOCD as a Cargo runner. For more information, see the
<a href="#tips">Tips</a> section.</p>
<h2 id="probe-rs"><a class="header" href="#probe-rs">probe-rs</a></h2>
<p><a href="https://probe.rs">probe-rs</a> develops embedded debugging tools in Rust. All
tools that build on probe-rs, including</p>
<ul>
<li><a href="https://github.com/probe-rs/cargo-flash"><code>cargo-flash</code></a></li>
<li><a href="https://github.com/probe-rs/cargo-embed"><code>cargo-embed</code></a></li>
<li><a href="https://github.com/knurling-rs/probe-run"><code>probe-run</code></a></li>
</ul>
<p>should support i.MX RT 10xx and 11xx processors. probe-rs can write your binary
to external NOR flash chips, just like pyOCD. Consult each tool's documentation
for installation and usage.</p>
<blockquote>
<p>ℹ️ i.MX RT support in probe-rs is in its early stages. Patches for i.MX RT
processors may not yet be accepted or released. If that's the case, consider
building tools from source.</p>
</blockquote>
<h2 id="tips"><a class="header" href="#tips">Tips</a></h2>
<p>These tips may be helpful for integrating flashing and debugging tools in your
workflow. They may work for flashing and debugging tools that are not covered by
this guide.</p>
<h3 id="use-a-cargo-runner"><a class="header" href="#use-a-cargo-runner">Use a Cargo runner</a></h3>
<p>A runner describes the behavior of <code>cargo run</code> and other <code>cargo</code> commands. You
can use a Cargo runner to invoke your flashing and debugging tool. See <a href="https://doc.rust-lang.org/cargo/reference/config.html">the
Configuration chapter</a> of
The Cargo Book for more information.</p>
<p>Here's an example of a runner that uses <code>pyocd</code> to program a i.MX RT 1010
microcontroller. This assumes that you have <code>pyocd</code> installed. Once this
configuration is specified in your project,
<code>cargo run --target=thumbv7em-none-eabihf</code> will invoke <code>pyocd</code> to flash your
target.</p>
<pre><code class="language-toml">[target.thumbv7em-none-eabihf]
runner = [
    &quot;pyocd&quot;, &quot;load&quot;,
    &quot;--target=mimxrt1010&quot;,
    &quot;--format=elf&quot;,
]
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../toolchain.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="../flash_debug/evk_recovery.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../toolchain.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="../flash_debug/evk_recovery.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
    </body>
</html>
